<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Navigation bar title-->
    <title>Explore</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, text/html, charset=UTF-8"
    />
    <link href="static/bootstrap.min.css" rel="stylesheet" media="screen" />
    <link rel="stylesheet" href="static/css/custom.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/fontawesome.min.css"
    />
    <!-- Development -->
    <link rel="stylesheet" href="../static/css/all.css" />
  </head>
  <body>
    <br />
    <div id="holder">
      <div id="body">
        <div class="container">
          <div class="row text-center">
            <div class="col-xs-1 col-sm-1 col-md-4 col-lg-4 col-xl-4"></div>
            <div class="col-xs-10 col-sm-10 col-md-4 col-lg-4 col-xl-4">
              <p><a href="/">Home</a></p>
            </div>
            <div class="col-xs-1 col-sm-1 col-md-4 col-lg-4 col-xl-4"></div>
          </div>
          <div class="custom-link" id="baseDiv">Choose filters</div>
          <div id="popUpDiv">
            <div class="row popupItem">
              <div class="col">
                Difficulty:
              </div>
              <div class="col">
                <select id="popupSelectDiff">
                  <option value="all" selected>All</option>
                  <option value="green">Green</option>
                  <option value="blue">Blue</option>
                  <option value="yellow">Yellow</option>
                  <option value="red">Red</option>
                </select>
              </div>
            </div>
            <br />
            <div class="row popupItem">
              <div class="col">
                Section:
              </div>
              <div class="col">
                <select id="popupSelectSection">
                  <option value="all" selected>All</option>
                  {% for wall in walls %}
                  <option value="{{ wall['image'] }}">{{ wall['name'] }}</option>
                  {% endfor %}
                </select>
              </div>
            </div>
            <br />
            <div class="row popupItem">
              <div class="col">
                Rating:
              </div>
              <div class="col">
                <select id="popupSelectRating">
                  <option value="0" selected>0 stars</option>
                  <option value="1">1 star</option>
                  <option value="2">2 stars</option>
                  <option value="3">3 stars</option>
                  <option value="4">4 stars</option>
                  <option value="5">5 stars</option>
                </select>
              </div>
            </div>
            <br />
            <div class="row popupItem">
              <div class="col">
                Creator:
              </div>
              <div class="col">
                <input type="text" id="popupCreator"></input>
                </select>
              </div>
            </div>
            <br /><br />
            <div class="row popupItem">
              <div class="col"></div>
              <div class="col">
                <button id="btnApply">
                  Apply
                </button>
              </div>
              <div class="col"></div>
            </div>
          </div>
          <hr/>
          <!-- TODO: Add safename field to boulder -->
          <form id="bForm" action="/explore_boulders" method="post">
            <p>
              &bull;
              <button
                type="submit"
                name="explore"
                value="explore-boulders"
                class="custom-link"
              >
                Explore Boulders
              </button>
            </p>
          </form>
          <!-- <p>&bull;<a href="/explore_routes"> Explore Routes</a></p> -->
          <p>&bull;<a href=""> Explore Routes (Coming soon)</a></p>
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  var filters = {
    difficulty: "all",
    section: "all",
    creator: "",
  };
  $("#baseDiv").click(function(e) {
    $("#popUpDiv").show();
  });
  $("#btnApply").click(function(e) {
    filters.difficulty = $("#popupSelectDiff").val();
    filters.section = $("#popupSelectSection").val();
    filters.creator = $("#popupCreator").val();
    filters.rating = $("#popupSelectRating").val();
    // $("#popUpDiv").hide();
    $("#bForm").submit()
  });
  $("#bForm").submit(function(e) {
    $("#form-filters").remove();
    $("<input />")
      .attr("type", "hidden")
      .attr("id", "form-filters")
      .attr("name", "filters")
      .attr("value", JSON.stringify(filters))
      .appendTo("#bForm");
    return true;
  });
</script>

<style>
  #popUpDiv {
    z-index: 10;
    position: absolute;
    background-color: rgba(123, 123, 123, 0.95);
    color: white;
    display: none;
    top: -3%;
    left: 0%;
    width: 97vw;
    height: 95vh;
  }
  .popupItem {
    z-index: 100;
    position: relative;
    padding-left: 3%;
    padding-top: 1%;
  }
  /* https://stackoverflow.com/questions/47702879/bootstrap-4-hex-colors-for-rails-app */
  .custom-link {
    border: none;
    outline: none;
    background: none;
    cursor: pointer;
    color: #007bff;
    padding: 0;
    font-family: inherit;
    font-size: inherit;
  }
</style>
